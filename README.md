## Foundry

**Foundry is a blazing fast, portable and modular toolkit for Ethereum application development written in Rust.**

Foundry consists of:

-   **Forge**: Ethereum testing framework (like Truffle, Hardhat and DappTools).
-   **Cast**: Swiss army knife for interacting with EVM smart contracts, sending transactions and getting chain data.
-   **Anvil**: Local Ethereum node, akin to Ganache, Hardhat Network.
-   **Chisel**: Fast, utilitarian, and verbose solidity REPL.

## Documentation

https://book.getfoundry.sh/

## Usage

### Build

```shell
$ forge build
```

### Test

Copy the `.env` example and fill it with your data:
```shell
cp .env.example .env
```
Activate you environment variables, run a network fork with anvil and run the tests:

```shell
$ source .env
$ anvil --fork-url $RPC_URL --fork-block-number $FORK_BLOCK_NUMBER
$ forge test --fork-url=http://localhost:8545
```

### Format

```shell
$ forge fmt
```

### Gas Snapshots

```shell
$ forge snapshot
```

### Anvil

```shell
$ anvil
```

### Deploying the Contract

To get started with deploying the contract to your desired blockchain network, you'll first need to set up your environment variables. A sample configuration file named .env.example is provided in the repository as a template. Follow these steps to prepare your environment for deployment:

1. Copy the Sample Environment File: Make a copy of the .env.example file for each network you wish to deploy to, and name it according to the network. For example, for sepolia, you would create a copy named .env.sepolia.


```shell
cp .env.example .env.sepolia
```
2. Fill in the Environment Variables: Open your newly created .env.<network_name> file in a text editor. Replace the placeholder values with your actual configuration details, such as your RPC URL, Etherscan API key, and any other network-specific variables required for deployment.

3. Run the Deployment Script: Once your environment file is configured, you're ready to deploy. Use the deploy.py script, specifying the network name as an argument. Ensure that Python is installed on your system and that you have set up all necessary dependencies for the script to run.

To deploy to sepolia, for example, run: 

```shell
python3 deploy.py sepolia
```
This command will load the environment variables from .env.sepolia, execute the deployment script, and log the output to the .deployment_logs directory.

Repeat these steps for each network you plan to deploy to, ensuring you have a corresponding environment file for each network.

Please note, in addition to the deployment logs generated by the `deploy.py` script and saved in the `.deployment_logs` directory, Forge itself will also create its own logs for broadcast transactions. These logs are managed by Forge and provide detailed information about each transaction's execution, useful for debugging and verification purposes. The Forge-generated logs can be found in the default `broadcast` logging directory used by Foundry.

### Cast

```shell
$ cast <subcommand>
```

### Help

```shell
$ forge --help
$ anvil --help
$ cast --help
```
